<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Driver App - Additional Info</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    {% load static %}
    <link rel="stylesheet" href="{% static 'css/driver_reg.css' %}">
</head>
<body>

    <!-- Additional Driver Information -->
    <div class="container" id="driver-info">
        <h1>DRIVER INFO</h1>

        <form action="{% url "driver_reg" %}" method="POST" enctype="multipart/form-data">
            {% csrf_token %}
            <label for="phonenumber">Phone Number:</label>
            <input type="text" id="phonenumber" name="phonenumber" placeholder="Enter your registered phone number" maxlength="10" required oninput="validatePhoneNumber(this)">

            <label for="alternativePhoneNumber">Alternative Phone Number:</label>
            <input type="text" id="alternativePhoneNumber" name="alternative_phone_number" placeholder="Enter your alternative phone number" maxlength="10" required oninput="validatePhoneNumber(this)">

            <label for="dob">Date of Birth:</label>
            <input type="date" id="dob" name="dob" required>

            <label for="aadhaarNumber">Aadhaar Number:</label>
            <input type="text" id="aadhaarNumber" name="aadhaar_number" placeholder="Enter your Aadhaar number" maxlength="14" required oninput="formatAadhaar(this)" />

            <label for="profilePhoto">Profile Photo:</label>
            <input type="file" id="profilePhoto" name="profile_photo" accept="image/*" required>

            <label for="drivingLicense">Driving License Number:</label>
<input type="text" id="drivingLicense" name="driving_license" placeholder="Enter your driving license number" required pattern="^(?:DL[-\s]?\d{2}\d{6}|\d{2}[ -]\d{2}\d{4}\d{7})$" title="Enter a valid Driving License Number">

            <label for="licensePhoto">Driving License Card Photo:</label>
            <input type="file" id="licensePhoto" name="license_photo" accept="image/*" required>

            <label for="currentAddress">Current Address:</label>
            <input type="text" id="currentAddress" name="current_address" placeholder="Enter your current address" required>

            <button type="submit">Submit</button>
        </form>
    </div>

    <script>
        // Function to validate phone number input, allowing only numeric characters and restrict to 10 digits
        function validatePhoneNumber(input) {
            input.value = input.value.replace(/\D/g, ''); // Replace non-numeric characters with nothing
            if (input.value.length > 10) {
                input.value = input.value.substring(0, 10); // Restrict to 10 digits
            }
        }

        // Function to format Aadhaar number as the user types
        function formatAadhaar(input) {
            let value = input.value.replace(/\D/g, ''); // Remove all non-digit characters
            
            // Add spaces after every 4 digits
            if (value.length > 4) {
                value = value.substring(0, 4) + ' ' + value.substring(4);
            }
            if (value.length > 9) {
                value = value.substring(0, 9) + ' ' + value.substring(9);
            }
            
            // Update the input value with the formatted string
            input.value = value;
        }
    </script>

</body>
</html>