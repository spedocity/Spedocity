{% extends "base.html" %}
{% block title %}Home{% endblock %}
{% block content %}
{% load static %}
<link rel="stylesheet" href="{% static 'css/home.css' %}">

        <!-- Photo Slide Section -->
        <div class="image-slider">
            <img id="slider-image" src="{{ slider_images.first.image.url }}" alt="Image Slider"> <!-- First image shown initially -->
            <div class="nav-buttons">
                <button class="nav-button" id="prevButton">&lt;</button>
                <button class="nav-button" id="nextButton">&gt;</button>
            </div>
        </div>
        
        <div class="flex-container">
            <div class="flex-item">
                Auto Booking for Passengers
                <button class="btn" onclick="location.href=''">Coming soon</button>
            </div>

            
            <div class="flex-item">
                Vehicle Booking for Logistics
                <button class="btn" onclick="location.href='{% url 'logi_book' %}'">Book Now</button>
            </div>
            <div class="flex-item">
                Ambulance Service
                <button class="btn" onclick="location.href='{% url 'ambu_book' %}'">Book Now</button>
            </div>
            <div class="flex-item">
                Home Shift Services
                <button class="btn" onclick="location.href=''">Coming Soon</button>
            </div>
        </div>
        
        <div class="google-ads">
            <p>Google Ads go here</p>
        </div>
        
        <div class="features-feedback">
            <div class="features">
                <h2>Features</h2>
                <p> Easy book freight services for transporting goods locally or across longer distances, connecting them with drivers for efficient shipping.</p>
                <br>
                <ul>
                    <li>Goods Transport</li>
                    <li>Passenger Transport</li>
                    <li>Ambulance Service</li>
                    <li>Home Shifting</li>
                  </ul>
            </div>
            <div class="feedback">
                <h2>Customer Reviews</h2>
                <div class="review">
                    <p><strong>John Doe</strong></p>
                    <p>"Excellent service, very reliable and fast!"</p>
                    <p>Rating: ⭐️⭐️⭐️⭐️⭐️</p>
                </div>
                <div class="review">
                    <p><strong>Jane Smith</strong></p>
                    <p>"Affordable and efficient transport options."</p>
                    <p>Rating: ⭐️⭐️⭐️⭐️</p>
                </div>
                <div class="review">
                    <p><strong>Michael Brown</strong></p>
                    <p>"Smooth booking process, but could improve on vehicle availability."</p>
                    <p>Rating: ⭐️⭐️⭐️</p>
                </div>
            </div>
        </div>
        <div class="statistics">
            <h2>Statistics</h2>
            <div class="stats-grid">
                <div class="stat-item">
                    <div class="stat-circle">
                        <p class="stat-number">{{ completed_trips }}</p>
                    </div>
                    <p class="stat-label">Trips Completed</p>
                </div>
                <div class="stat-item">
                    <div class="stat-circle">
                        <p class="stat-number">{{ total_distance }} km</p>
                    </div>
                    <p class="stat-label">Distance Traveled</p>
                </div>
                <div class="stat-item">
                    <div class="stat-circle">
                        <p class="stat-number">{{ total_partners }}</p>
                    </div>
                    <p class="stat-label">Our Partners</p>
                </div>
                <div class="stat-item">
                    <div class="stat-circle">
                        <p class="stat-number">{{ total_customers }}</p>
                    </div>
                    <p class="stat-label">Our Customers</p>
                </div>
            </div>
        </div>
        
        <script>
            // JavaScript to handle the slider functionality
        
            // Create an array of image URLs dynamically from the Django template context
            const images = [
                {% for image in slider_images %}
                    '{{ image.image.url }}',  // Add the image URLs dynamically
                {% endfor %}
            ];
        
            let currentIndex = 0;
            let interval;
        
            function showImage(index) {
                const imageElement = document.getElementById('slider-image');
                imageElement.src = images[index];  // Update the image src
            }
        
            function nextImage() {
                currentIndex = (currentIndex + 1) % images.length;
                showImage(currentIndex);
                resetInterval();
            }
        
            function prevImage() {
                currentIndex = (currentIndex - 1 + images.length) % images.length;
                showImage(currentIndex);
                resetInterval();
            }
        
            function resetInterval() {
                clearInterval(interval);  // Clear the existing interval
                interval = setInterval(nextImage, 5000);  // Set a new interval for the next image
            }
        
            document.getElementById('nextButton').addEventListener('click', nextImage);
            document.getElementById('prevButton').addEventListener('click', prevImage);
        
            window.onload = function () {
                showImage(currentIndex);  // Show the first image
                interval = setInterval(nextImage, 5000);  // Start auto-sliding every 5 seconds
            };
        </script>
{% endblock content %}