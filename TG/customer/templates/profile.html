{% extends "base.html" %}
{% block title %}Profile{% endblock %}
{% block content %}
{% load static %}
<link rel="stylesheet" href="{% static 'css/profile.css' %}">

<div class="profile-container">
    <h1>{{ customer.first_name }}'s Profile</h1>

    <!-- Profile Picture Section -->
    <div class="profile-picture" onclick="document.getElementById('fileInput').click();">
        <img id="profileImage" src="{{ customer.profile_pic.url|default:'path/to/default/icon.png' }}" 
             alt="{{ customer.first_name }}'s Profile Picture">
        <input type="file" name="profile_pic" id="fileInput" onchange="previewImage(event)" style="display: none;">
    </div>
    
    
    <!-- Edit Button below profile picture -->
    <div class="edit-profile-container">
        <button type="button" class="edit-profile-button" onclick="enableEditing(event)">&#9998; Edit Profile</button>
    </div>


    <!-- Profile Form -->
    <form method="POST" enctype="multipart/form-data" class="profile-form" action="{% url "customer_profile" %}">
        {% csrf_token %}
        
        <!-- First Name Field -->
        <div class="form-row">
            <label for="first_name">First Name:</label>
            <input type="text" name="first_name" id="first_name" value="{{ customer.first_name }}" readonly>
        </div>

        <!-- Last Name Field -->
        <div class="form-row">
            <label for="last_name">Last Name:</label>
            <input type="text" name="last_name" id="last_name" value="{{ customer.last_name }}" readonly>
        </div>

        <!-- Phone Number Field -->
        <div class="form-row">
            <label for="phone_number">Phone Number:</label>
            <input type="text" name="phone_number" id="phone_number" value="{{ customer.phone_number }}" readonly>
        </div>

        <!-- Email Field -->
        <div class="form-row">
            <label for="email">Email:</label>
            <input type="email" name="email" id="email" value="{{ customer.email }}" readonly>
        </div>

        <!-- State Field -->
        <div class="form-row">
            <label for="state">State:</label>
            <input type="text" name="state" id="state" value="{{ customer.state }}" readonly>
        </div>

        <!-- District Field -->
        <div class="form-row">
            <label for="district">District:</label>
            <input type="text" name="district" id="district" value="{{ customer.district }}" readonly>
        </div>

        <!-- City Field -->
        <div class="form-row">
            <label for="city">City:</label>
            <input type="text" name="city" id="city" value="{{ customer.city }}" readonly>
        </div> 

       <!-- Work Place Field -->
        <div class="form-row">
            <label for="work_place">Work Place:</label>
            <textarea name="work_place" id="work_place" rows="4" readonly>{{ customer.work_place }}</textarea>
            <p class="location-info" style="display: none;" onclick="getLocation('work_place')">Use Current Location<span id="work_location"></span></p>
        </div>

        <!-- Home Place Field -->
        <div class="form-row">
            <label for="home_place">Home Place:</label>
            <textarea name="home_place" id="home_place" rows="4" readonly>{{ customer.home_place }}</textarea>
            <p class="location-info" style="display: none;" onclick="getLocation('home_place')">Use Current Location<span id="home_location"></span></p>
        </div>

        <!-- Save Button -->
        <button type="submit" class="save-button" style="display: none;">Save Changes</button>
    </form>
</div>
<script src="{% static 'js/profile.js' %}"></script>
{% endblock content %}